ZiLOG ZNEO Macro Assembler Version 1.10 (07022203)                                               29-Mar-11     22:45:37     page:   1


PC     Object              I  Line    Source 
                           A     1    ; ZiLOG ZNEO ANSI C Compiler Release 1.11
                           A     2    ; -nolocalcse -optsize -model=S -nomodsect -noregvar
                           A     3    ; -reduceopt -debug -peephole -const=ROM -alias -fastcall
                           A     4    	FILE	"..\LED.C"
                           A     5    .debug "C"
                           A     6    	SEGMENT NEAR_DATA
00000000                   A     7    _char_data:
00000000 00                A     8    	DB	0
00000001 00                A     9    	DB	0
00000002 00                A    10    	DB	0
00000003 00                A    11    	DB	0
00000004 00                A    12    	DB	0
00000005 00                A    13    	DB	0
00000006 00                A    14    	DB	0
00000007 04                A    15    	DB	4
00000008 04                A    16    	DB	4
00000009 04                A    17    	DB	4
0000000A 04                A    18    	DB	4
0000000B 04                A    19    	DB	4
0000000C 00                A    20    	DB	0
0000000D 04                A    21    	DB	4
0000000E 0A                A    22    	DB	10
0000000F 0A                A    23    	DB	10
00000010 00                A    24    	DB	0
00000011 00                A    25    	DB	0
00000012 00                A    26    	DB	0
00000013 00                A    27    	DB	0
00000014 00                A    28    	DB	0
00000015 00                A    29    	DB	0
00000016 0A                A    30    	DB	10
00000017 1F                A    31    	DB	31
00000018 0A                A    32    	DB	10
00000019 1F                A    33    	DB	31
0000001A 0A                A    34    	DB	10
0000001B 00                A    35    	DB	0
0000001C 04                A    36    	DB	4
0000001D 0F                A    37    	DB	15
0000001E 14                A    38    	DB	20
0000001F 0E                A    39    	DB	14
00000020 05                A    40    	DB	5
00000021 1E                A    41    	DB	30
00000022 04                A    42    	DB	4
00000023 18                A    43    	DB	24
00000024 19                A    44    	DB	25
00000025 02                A    45    	DB	2
00000026 04                A    46    	DB	4
00000027 08                A    47    	DB	8
00000028 13                A    48    	DB	19
00000029 03                A    49    	DB	3
0000002A 0E                A    50    	DB	14
0000002B 0A                A    51    	DB	10
0000002C 0C                A    52    	DB	12
ZiLOG ZNEO Macro Assembler Version 1.10 (07022203)                                               29-Mar-11     22:45:37     page:   2


PC     Object              I  Line    Source led.src
0000002D 08                A    53    	DB	8
0000002E 15                A    54    	DB	21
0000002F 13                A    55    	DB	19
00000030 0E                A    56    	DB	14
00000031 04                A    57    	DB	4
00000032 04                A    58    	DB	4
00000033 00                A    59    	DB	0
00000034 00                A    60    	DB	0
00000035 00                A    61    	DB	0
00000036 00                A    62    	DB	0
00000037 00                A    63    	DB	0
00000038 01                A    64    	DB	1
00000039 02                A    65    	DB	2
0000003A 04                A    66    	DB	4
0000003B 04                A    67    	DB	4
0000003C 04                A    68    	DB	4
0000003D 02                A    69    	DB	2
0000003E 01                A    70    	DB	1
0000003F 10                A    71    	DB	16
00000040 08                A    72    	DB	8
00000041 04                A    73    	DB	4
00000042 04                A    74    	DB	4
00000043 04                A    75    	DB	4
00000044 08                A    76    	DB	8
00000045 10                A    77    	DB	16
00000046 00                A    78    	DB	0
00000047 04                A    79    	DB	4
00000048 15                A    80    	DB	21
00000049 1F                A    81    	DB	31
0000004A 15                A    82    	DB	21
0000004B 04                A    83    	DB	4
0000004C 00                A    84    	DB	0
0000004D 00                A    85    	DB	0
0000004E 04                A    86    	DB	4
0000004F 04                A    87    	DB	4
00000050 1F                A    88    	DB	31
00000051 04                A    89    	DB	4
00000052 04                A    90    	DB	4
00000053 00                A    91    	DB	0
00000054 00                A    92    	DB	0
00000055 00                A    93    	DB	0
00000056 00                A    94    	DB	0
00000057 00                A    95    	DB	0
00000058 00                A    96    	DB	0
00000059 02                A    97    	DB	2
0000005A 04                A    98    	DB	4
0000005B 00                A    99    	DB	0
0000005C 00                A   100    	DB	0
0000005D 00                A   101    	DB	0
0000005E 0E                A   102    	DB	14
0000005F 00                A   103    	DB	0
00000060 00                A   104    	DB	0
ZiLOG ZNEO Macro Assembler Version 1.10 (07022203)                                               29-Mar-11     22:45:37     page:   3


PC     Object              I  Line    Source led.src
00000061 00                A   105    	DB	0
00000062 00                A   106    	DB	0
00000063 00                A   107    	DB	0
00000064 00                A   108    	DB	0
00000065 00                A   109    	DB	0
00000066 00                A   110    	DB	0
00000067 06                A   111    	DB	6
00000068 06                A   112    	DB	6
00000069 00                A   113    	DB	0
0000006A 01                A   114    	DB	1
0000006B 02                A   115    	DB	2
0000006C 04                A   116    	DB	4
0000006D 08                A   117    	DB	8
0000006E 10                A   118    	DB	16
0000006F 00                A   119    	DB	0
00000070 0E                A   120    	DB	14
00000071 11                A   121    	DB	17
00000072 13                A   122    	DB	19
00000073 15                A   123    	DB	21
00000074 19                A   124    	DB	25
00000075 11                A   125    	DB	17
00000076 0E                A   126    	DB	14
00000077 04                A   127    	DB	4
00000078 0C                A   128    	DB	12
00000079 04                A   129    	DB	4
0000007A 04                A   130    	DB	4
0000007B 04                A   131    	DB	4
0000007C 04                A   132    	DB	4
0000007D 1F                A   133    	DB	31
0000007E 0E                A   134    	DB	14
0000007F 11                A   135    	DB	17
00000080 01                A   136    	DB	1
00000081 06                A   137    	DB	6
00000082 08                A   138    	DB	8
00000083 10                A   139    	DB	16
00000084 1F                A   140    	DB	31
00000085 0E                A   141    	DB	14
00000086 11                A   142    	DB	17
00000087 01                A   143    	DB	1
00000088 06                A   144    	DB	6
00000089 01                A   145    	DB	1
0000008A 11                A   146    	DB	17
0000008B 0E                A   147    	DB	14
0000008C 10                A   148    	DB	16
0000008D 11                A   149    	DB	17
0000008E 11                A   150    	DB	17
0000008F 1F                A   151    	DB	31
00000090 01                A   152    	DB	1
00000091 01                A   153    	DB	1
00000092 01                A   154    	DB	1
00000093 1F                A   155    	DB	31
00000094 10                A   156    	DB	16
ZiLOG ZNEO Macro Assembler Version 1.10 (07022203)                                               29-Mar-11     22:45:37     page:   4


PC     Object              I  Line    Source led.src
00000095 10                A   157    	DB	16
00000096 1E                A   158    	DB	30
00000097 01                A   159    	DB	1
00000098 11                A   160    	DB	17
00000099 0E                A   161    	DB	14
0000009A 0E                A   162    	DB	14
0000009B 11                A   163    	DB	17
0000009C 10                A   164    	DB	16
0000009D 1E                A   165    	DB	30
0000009E 11                A   166    	DB	17
0000009F 11                A   167    	DB	17
000000A0 0E                A   168    	DB	14
000000A1 1F                A   169    	DB	31
000000A2 01                A   170    	DB	1
000000A3 01                A   171    	DB	1
000000A4 02                A   172    	DB	2
000000A5 04                A   173    	DB	4
000000A6 04                A   174    	DB	4
000000A7 04                A   175    	DB	4
000000A8 0E                A   176    	DB	14
000000A9 11                A   177    	DB	17
000000AA 11                A   178    	DB	17
000000AB 0E                A   179    	DB	14
000000AC 11                A   180    	DB	17
000000AD 11                A   181    	DB	17
000000AE 0E                A   182    	DB	14
000000AF 0E                A   183    	DB	14
000000B0 11                A   184    	DB	17
000000B1 11                A   185    	DB	17
000000B2 0F                A   186    	DB	15
000000B3 01                A   187    	DB	1
000000B4 01                A   188    	DB	1
000000B5 01                A   189    	DB	1
000000B6 00                A   190    	DB	0
000000B7 04                A   191    	DB	4
000000B8 04                A   192    	DB	4
000000B9 00                A   193    	DB	0
000000BA 04                A   194    	DB	4
000000BB 04                A   195    	DB	4
000000BC 00                A   196    	DB	0
000000BD 00                A   197    	DB	0
000000BE 00                A   198    	DB	0
000000BF 04                A   199    	DB	4
000000C0 04                A   200    	DB	4
000000C1 00                A   201    	DB	0
000000C2 04                A   202    	DB	4
000000C3 08                A   203    	DB	8
000000C4 01                A   204    	DB	1
000000C5 02                A   205    	DB	2
000000C6 04                A   206    	DB	4
000000C7 08                A   207    	DB	8
000000C8 04                A   208    	DB	4
ZiLOG ZNEO Macro Assembler Version 1.10 (07022203)                                               29-Mar-11     22:45:37     page:   5


PC     Object              I  Line    Source led.src
000000C9 02                A   209    	DB	2
000000CA 01                A   210    	DB	1
000000CB 00                A   211    	DB	0
000000CC 00                A   212    	DB	0
000000CD 1F                A   213    	DB	31
000000CE 00                A   214    	DB	0
000000CF 1F                A   215    	DB	31
000000D0 00                A   216    	DB	0
000000D1 00                A   217    	DB	0
000000D2 10                A   218    	DB	16
000000D3 08                A   219    	DB	8
000000D4 04                A   220    	DB	4
000000D5 02                A   221    	DB	2
000000D6 04                A   222    	DB	4
000000D7 08                A   223    	DB	8
000000D8 10                A   224    	DB	16
000000D9 0E                A   225    	DB	14
000000DA 11                A   226    	DB	17
000000DB 02                A   227    	DB	2
000000DC 04                A   228    	DB	4
000000DD 04                A   229    	DB	4
000000DE 00                A   230    	DB	0
000000DF 04                A   231    	DB	4
000000E0 0E                A   232    	DB	14
000000E1 11                A   233    	DB	17
000000E2 15                A   234    	DB	21
000000E3 15                A   235    	DB	21
000000E4 17                A   236    	DB	23
000000E5 10                A   237    	DB	16
000000E6 0F                A   238    	DB	15
000000E7 04                A   239    	DB	4
000000E8 0A                A   240    	DB	10
000000E9 11                A   241    	DB	17
000000EA 11                A   242    	DB	17
000000EB 1F                A   243    	DB	31
000000EC 11                A   244    	DB	17
000000ED 11                A   245    	DB	17
000000EE 1E                A   246    	DB	30
000000EF 11                A   247    	DB	17
000000F0 11                A   248    	DB	17
000000F1 1E                A   249    	DB	30
000000F2 11                A   250    	DB	17
000000F3 11                A   251    	DB	17
000000F4 1F                A   252    	DB	31
000000F5 0E                A   253    	DB	14
000000F6 11                A   254    	DB	17
000000F7 10                A   255    	DB	16
000000F8 10                A   256    	DB	16
000000F9 10                A   257    	DB	16
000000FA 11                A   258    	DB	17
000000FB 0E                A   259    	DB	14
000000FC 1E                A   260    	DB	30
ZiLOG ZNEO Macro Assembler Version 1.10 (07022203)                                               29-Mar-11     22:45:37     page:   6


PC     Object              I  Line    Source led.src
000000FD 11                A   261    	DB	17
000000FE 11                A   262    	DB	17
000000FF 11                A   263    	DB	17
00000100 11                A   264    	DB	17
00000101 11                A   265    	DB	17
00000102 1F                A   266    	DB	31
00000103 1F                A   267    	DB	31
00000104 10                A   268    	DB	16
00000105 10                A   269    	DB	16
00000106 1C                A   270    	DB	28
00000107 10                A   271    	DB	16
00000108 10                A   272    	DB	16
00000109 1F                A   273    	DB	31
0000010A 1F                A   274    	DB	31
0000010B 10                A   275    	DB	16
0000010C 10                A   276    	DB	16
0000010D 1C                A   277    	DB	28
0000010E 10                A   278    	DB	16
0000010F 10                A   279    	DB	16
00000110 10                A   280    	DB	16
00000111 0E                A   281    	DB	14
00000112 11                A   282    	DB	17
00000113 10                A   283    	DB	16
00000114 17                A   284    	DB	23
00000115 11                A   285    	DB	17
00000116 11                A   286    	DB	17
00000117 0E                A   287    	DB	14
00000118 11                A   288    	DB	17
00000119 11                A   289    	DB	17
0000011A 11                A   290    	DB	17
0000011B 1F                A   291    	DB	31
0000011C 11                A   292    	DB	17
0000011D 11                A   293    	DB	17
0000011E 11                A   294    	DB	17
0000011F 1F                A   295    	DB	31
00000120 04                A   296    	DB	4
00000121 04                A   297    	DB	4
00000122 04                A   298    	DB	4
00000123 04                A   299    	DB	4
00000124 04                A   300    	DB	4
00000125 1F                A   301    	DB	31
00000126 1F                A   302    	DB	31
00000127 02                A   303    	DB	2
00000128 02                A   304    	DB	2
00000129 02                A   305    	DB	2
0000012A 02                A   306    	DB	2
0000012B 12                A   307    	DB	18
0000012C 0C                A   308    	DB	12
0000012D 11                A   309    	DB	17
0000012E 12                A   310    	DB	18
0000012F 14                A   311    	DB	20
00000130 18                A   312    	DB	24
ZiLOG ZNEO Macro Assembler Version 1.10 (07022203)                                               29-Mar-11     22:45:37     page:   7


PC     Object              I  Line    Source led.src
00000131 14                A   313    	DB	20
00000132 12                A   314    	DB	18
00000133 11                A   315    	DB	17
00000134 10                A   316    	DB	16
00000135 10                A   317    	DB	16
00000136 10                A   318    	DB	16
00000137 10                A   319    	DB	16
00000138 10                A   320    	DB	16
00000139 10                A   321    	DB	16
0000013A 1F                A   322    	DB	31
0000013B 11                A   323    	DB	17
0000013C 1B                A   324    	DB	27
0000013D 15                A   325    	DB	21
0000013E 11                A   326    	DB	17
0000013F 11                A   327    	DB	17
00000140 11                A   328    	DB	17
00000141 11                A   329    	DB	17
00000142 11                A   330    	DB	17
00000143 11                A   331    	DB	17
00000144 19                A   332    	DB	25
00000145 15                A   333    	DB	21
00000146 13                A   334    	DB	19
00000147 11                A   335    	DB	17
00000148 11                A   336    	DB	17
00000149 0E                A   337    	DB	14
0000014A 11                A   338    	DB	17
0000014B 11                A   339    	DB	17
0000014C 11                A   340    	DB	17
0000014D 11                A   341    	DB	17
0000014E 11                A   342    	DB	17
0000014F 0E                A   343    	DB	14
00000150 1E                A   344    	DB	30
00000151 11                A   345    	DB	17
00000152 11                A   346    	DB	17
00000153 1E                A   347    	DB	30
00000154 10                A   348    	DB	16
00000155 10                A   349    	DB	16
00000156 10                A   350    	DB	16
00000157 0E                A   351    	DB	14
00000158 11                A   352    	DB	17
00000159 11                A   353    	DB	17
0000015A 11                A   354    	DB	17
0000015B 15                A   355    	DB	21
0000015C 12                A   356    	DB	18
0000015D 0D                A   357    	DB	13
0000015E 1E                A   358    	DB	30
0000015F 11                A   359    	DB	17
00000160 11                A   360    	DB	17
00000161 1E                A   361    	DB	30
00000162 14                A   362    	DB	20
00000163 12                A   363    	DB	18
00000164 11                A   364    	DB	17
ZiLOG ZNEO Macro Assembler Version 1.10 (07022203)                                               29-Mar-11     22:45:37     page:   8


PC     Object              I  Line    Source led.src
00000165 0E                A   365    	DB	14
00000166 11                A   366    	DB	17
00000167 10                A   367    	DB	16
00000168 0E                A   368    	DB	14
00000169 01                A   369    	DB	1
0000016A 11                A   370    	DB	17
0000016B 0E                A   371    	DB	14
0000016C 1F                A   372    	DB	31
0000016D 04                A   373    	DB	4
0000016E 04                A   374    	DB	4
0000016F 04                A   375    	DB	4
00000170 04                A   376    	DB	4
00000171 04                A   377    	DB	4
00000172 04                A   378    	DB	4
00000173 11                A   379    	DB	17
00000174 11                A   380    	DB	17
00000175 11                A   381    	DB	17
00000176 11                A   382    	DB	17
00000177 11                A   383    	DB	17
00000178 11                A   384    	DB	17
00000179 0E                A   385    	DB	14
0000017A 11                A   386    	DB	17
0000017B 11                A   387    	DB	17
0000017C 11                A   388    	DB	17
0000017D 11                A   389    	DB	17
0000017E 11                A   390    	DB	17
0000017F 0A                A   391    	DB	10
00000180 04                A   392    	DB	4
00000181 11                A   393    	DB	17
00000182 11                A   394    	DB	17
00000183 11                A   395    	DB	17
00000184 11                A   396    	DB	17
00000185 15                A   397    	DB	21
00000186 1B                A   398    	DB	27
00000187 11                A   399    	DB	17
00000188 11                A   400    	DB	17
00000189 11                A   401    	DB	17
0000018A 0A                A   402    	DB	10
0000018B 04                A   403    	DB	4
0000018C 0A                A   404    	DB	10
0000018D 11                A   405    	DB	17
0000018E 11                A   406    	DB	17
0000018F 11                A   407    	DB	17
00000190 11                A   408    	DB	17
00000191 0A                A   409    	DB	10
00000192 04                A   410    	DB	4
00000193 04                A   411    	DB	4
00000194 04                A   412    	DB	4
00000195 04                A   413    	DB	4
00000196 1F                A   414    	DB	31
00000197 11                A   415    	DB	17
00000198 02                A   416    	DB	2
ZiLOG ZNEO Macro Assembler Version 1.10 (07022203)                                               29-Mar-11     22:45:37     page:   9


PC     Object              I  Line    Source led.src
00000199 04                A   417    	DB	4
0000019A 08                A   418    	DB	8
0000019B 11                A   419    	DB	17
0000019C 1F                A   420    	DB	31
0000019D 0E                A   421    	DB	14
0000019E 08                A   422    	DB	8
0000019F 08                A   423    	DB	8
000001A0 08                A   424    	DB	8
000001A1 08                A   425    	DB	8
000001A2 08                A   426    	DB	8
000001A3 0E                A   427    	DB	14
000001A4 00                A   428    	DB	0
000001A5 10                A   429    	DB	16
000001A6 08                A   430    	DB	8
000001A7 04                A   431    	DB	4
000001A8 02                A   432    	DB	2
000001A9 01                A   433    	DB	1
000001AA 00                A   434    	DB	0
000001AB 0E                A   435    	DB	14
000001AC 02                A   436    	DB	2
000001AD 02                A   437    	DB	2
000001AE 02                A   438    	DB	2
000001AF 02                A   439    	DB	2
000001B0 02                A   440    	DB	2
000001B1 0E                A   441    	DB	14
000001B2 04                A   442    	DB	4
000001B3 0A                A   443    	DB	10
000001B4 11                A   444    	DB	17
000001B5 00                A   445    	DB	0
000001B6 00                A   446    	DB	0
000001B7 00                A   447    	DB	0
000001B8 00                A   448    	DB	0
000001B9 00                A   449    	DB	0
000001BA 00                A   450    	DB	0
000001BB 00                A   451    	DB	0
000001BC 00                A   452    	DB	0
000001BD 00                A   453    	DB	0
000001BE 00                A   454    	DB	0
000001BF 1F                A   455    	DB	31
000001C0 08                A   456    	DB	8
000001C1 04                A   457    	DB	4
000001C2 00                A   458    	DB	0
000001C3 00                A   459    	DB	0
000001C4 00                A   460    	DB	0
000001C5 00                A   461    	DB	0
000001C6 00                A   462    	DB	0
000001C7 00                A   463    	DB	0
000001C8 00                A   464    	DB	0
000001C9 00                A   465    	DB	0
000001CA 0C                A   466    	DB	12
000001CB 12                A   467    	DB	18
000001CC 12                A   468    	DB	18
ZiLOG ZNEO Macro Assembler Version 1.10 (07022203)                                               29-Mar-11     22:45:37     page:  10


PC     Object              I  Line    Source led.src
000001CD 0D                A   469    	DB	13
000001CE 00                A   470    	DB	0
000001CF 10                A   471    	DB	16
000001D0 10                A   472    	DB	16
000001D1 1E                A   473    	DB	30
000001D2 11                A   474    	DB	17
000001D3 11                A   475    	DB	17
000001D4 1E                A   476    	DB	30
000001D5 00                A   477    	DB	0
000001D6 00                A   478    	DB	0
000001D7 00                A   479    	DB	0
000001D8 0F                A   480    	DB	15
000001D9 10                A   481    	DB	16
000001DA 10                A   482    	DB	16
000001DB 0F                A   483    	DB	15
000001DC 00                A   484    	DB	0
000001DD 01                A   485    	DB	1
000001DE 01                A   486    	DB	1
000001DF 0F                A   487    	DB	15
000001E0 11                A   488    	DB	17
000001E1 11                A   489    	DB	17
000001E2 0F                A   490    	DB	15
000001E3 00                A   491    	DB	0
000001E4 00                A   492    	DB	0
000001E5 0E                A   493    	DB	14
000001E6 11                A   494    	DB	17
000001E7 1E                A   495    	DB	30
000001E8 10                A   496    	DB	16
000001E9 0F                A   497    	DB	15
000001EA 06                A   498    	DB	6
000001EB 09                A   499    	DB	9
000001EC 08                A   500    	DB	8
000001ED 1E                A   501    	DB	30
000001EE 08                A   502    	DB	8
000001EF 08                A   503    	DB	8
000001F0 08                A   504    	DB	8
000001F1 00                A   505    	DB	0
000001F2 0E                A   506    	DB	14
000001F3 11                A   507    	DB	17
000001F4 11                A   508    	DB	17
000001F5 0F                A   509    	DB	15
000001F6 01                A   510    	DB	1
000001F7 0E                A   511    	DB	14
000001F8 00                A   512    	DB	0
000001F9 10                A   513    	DB	16
000001FA 10                A   514    	DB	16
000001FB 1E                A   515    	DB	30
000001FC 11                A   516    	DB	17
000001FD 11                A   517    	DB	17
000001FE 11                A   518    	DB	17
000001FF 00                A   519    	DB	0
00000200 00                A   520    	DB	0
ZiLOG ZNEO Macro Assembler Version 1.10 (07022203)                                               29-Mar-11     22:45:37     page:  11


PC     Object              I  Line    Source led.src
00000201 04                A   521    	DB	4
00000202 00                A   522    	DB	0
00000203 04                A   523    	DB	4
00000204 04                A   524    	DB	4
00000205 04                A   525    	DB	4
00000206 00                A   526    	DB	0
00000207 02                A   527    	DB	2
00000208 02                A   528    	DB	2
00000209 02                A   529    	DB	2
0000020A 02                A   530    	DB	2
0000020B 12                A   531    	DB	18
0000020C 0C                A   532    	DB	12
0000020D 00                A   533    	DB	0
0000020E 11                A   534    	DB	17
0000020F 12                A   535    	DB	18
00000210 1C                A   536    	DB	28
00000211 14                A   537    	DB	20
00000212 12                A   538    	DB	18
00000213 11                A   539    	DB	17
00000214 00                A   540    	DB	0
00000215 08                A   541    	DB	8
00000216 08                A   542    	DB	8
00000217 08                A   543    	DB	8
00000218 08                A   544    	DB	8
00000219 08                A   545    	DB	8
0000021A 08                A   546    	DB	8
0000021B 00                A   547    	DB	0
0000021C 00                A   548    	DB	0
0000021D 00                A   549    	DB	0
0000021E 11                A   550    	DB	17
0000021F 1B                A   551    	DB	27
00000220 15                A   552    	DB	21
00000221 11                A   553    	DB	17
00000222 00                A   554    	DB	0
00000223 00                A   555    	DB	0
00000224 00                A   556    	DB	0
00000225 16                A   557    	DB	22
00000226 19                A   558    	DB	25
00000227 11                A   559    	DB	17
00000228 11                A   560    	DB	17
00000229 00                A   561    	DB	0
0000022A 00                A   562    	DB	0
0000022B 00                A   563    	DB	0
0000022C 0E                A   564    	DB	14
0000022D 11                A   565    	DB	17
0000022E 11                A   566    	DB	17
0000022F 0E                A   567    	DB	14
00000230 00                A   568    	DB	0
00000231 0E                A   569    	DB	14
00000232 09                A   570    	DB	9
00000233 09                A   571    	DB	9
00000234 0E                A   572    	DB	14
ZiLOG ZNEO Macro Assembler Version 1.10 (07022203)                                               29-Mar-11     22:45:37     page:  12


PC     Object              I  Line    Source led.src
00000235 08                A   573    	DB	8
00000236 08                A   574    	DB	8
00000237 00                A   575    	DB	0
00000238 0E                A   576    	DB	14
00000239 11                A   577    	DB	17
0000023A 0E                A   578    	DB	14
0000023B 02                A   579    	DB	2
0000023C 02                A   580    	DB	2
0000023D 01                A   581    	DB	1
0000023E 00                A   582    	DB	0
0000023F 00                A   583    	DB	0
00000240 08                A   584    	DB	8
00000241 0E                A   585    	DB	14
00000242 08                A   586    	DB	8
00000243 08                A   587    	DB	8
00000244 08                A   588    	DB	8
00000245 00                A   589    	DB	0
00000246 00                A   590    	DB	0
00000247 07                A   591    	DB	7
00000248 08                A   592    	DB	8
00000249 06                A   593    	DB	6
0000024A 01                A   594    	DB	1
0000024B 0E                A   595    	DB	14
0000024C 00                A   596    	DB	0
0000024D 00                A   597    	DB	0
0000024E 04                A   598    	DB	4
0000024F 0E                A   599    	DB	14
00000250 04                A   600    	DB	4
00000251 04                A   601    	DB	4
00000252 04                A   602    	DB	4
00000253 00                A   603    	DB	0
00000254 00                A   604    	DB	0
00000255 00                A   605    	DB	0
00000256 11                A   606    	DB	17
00000257 11                A   607    	DB	17
00000258 11                A   608    	DB	17
00000259 0E                A   609    	DB	14
0000025A 00                A   610    	DB	0
0000025B 00                A   611    	DB	0
0000025C 00                A   612    	DB	0
0000025D 11                A   613    	DB	17
0000025E 11                A   614    	DB	17
0000025F 0A                A   615    	DB	10
00000260 04                A   616    	DB	4
00000261 00                A   617    	DB	0
00000262 00                A   618    	DB	0
00000263 00                A   619    	DB	0
00000264 11                A   620    	DB	17
00000265 15                A   621    	DB	21
00000266 1B                A   622    	DB	27
00000267 11                A   623    	DB	17
00000268 00                A   624    	DB	0
ZiLOG ZNEO Macro Assembler Version 1.10 (07022203)                                               29-Mar-11     22:45:37     page:  13


PC     Object              I  Line    Source led.src
00000269 00                A   625    	DB	0
0000026A 11                A   626    	DB	17
0000026B 0A                A   627    	DB	10
0000026C 04                A   628    	DB	4
0000026D 0A                A   629    	DB	10
0000026E 11                A   630    	DB	17
0000026F 00                A   631    	DB	0
00000270 00                A   632    	DB	0
00000271 11                A   633    	DB	17
00000272 0A                A   634    	DB	10
00000273 04                A   635    	DB	4
00000274 04                A   636    	DB	4
00000275 04                A   637    	DB	4
00000276 00                A   638    	DB	0
00000277 00                A   639    	DB	0
00000278 1F                A   640    	DB	31
00000279 02                A   641    	DB	2
0000027A 04                A   642    	DB	4
0000027B 08                A   643    	DB	8
0000027C 1F                A   644    	DB	31
0000027D 06                A   645    	DB	6
0000027E 08                A   646    	DB	8
0000027F 08                A   647    	DB	8
00000280 10                A   648    	DB	16
00000281 08                A   649    	DB	8
00000282 08                A   650    	DB	8
00000283 06                A   651    	DB	6
00000284 04                A   652    	DB	4
00000285 04                A   653    	DB	4
00000286 04                A   654    	DB	4
00000287 04                A   655    	DB	4
00000288 04                A   656    	DB	4
00000289 04                A   657    	DB	4
0000028A 04                A   658    	DB	4
0000028B 0C                A   659    	DB	12
0000028C 02                A   660    	DB	2
0000028D 02                A   661    	DB	2
0000028E 01                A   662    	DB	1
0000028F 02                A   663    	DB	2
00000290 02                A   664    	DB	2
00000291 0C                A   665    	DB	12
00000292 00                A   666    	DB	0
00000293 0A                A   667    	DB	10
00000294 15                A   668    	DB	21
00000295 00                A   669    	DB	0
00000296 00                A   670    	DB	0
00000297 00                A   671    	DB	0
00000298 00                A   672    	DB	0
                           A   673    .define "char_data"
                           A   674    .alias "_char_data"
                           A   675    .class 133
                           A   676    .value _char_data
ZiLOG ZNEO Macro Assembler Version 1.10 (07022203)                                               29-Mar-11     22:45:37     page:  14


PC     Object              I  Line    Source led.src
                           A   677    .dim 95
                           A   678    .dim 7
                           A   679    .type 876
                           A   680    .type 0
                           A   681    .endef
                           A   682    	SEGMENT NEAR_BSS
00000000                   A   683    _led_msg:
00000000                   A   684    	DS	2*1
                           A   685    .define "led_msg"
                           A   686    .alias "_led_msg"
                           A   687    .class 147
                           A   688    .value _led_msg
                           A   689    .type 140
                           A   690    .type 0
                           A   691    .endef
                           A   692    	SEGMENT CODE
                           A   693    .begrec "NONAME0",8
                           A   694    .define "quot"
                           A   695    .value 0
                           A   696    .class 8
                           A   697    .type 5
                           A   698    .type 0
                           A   699    .endef
                           A   700    .define "rem"
                           A   701    .value 4
                           A   702    .class 8
                           A   703    .type 5
                           A   704    .type 0
                           A   705    .endef
                           A   706    .endrec "NONAME0"
                           A   707    .begrec "NONAME1",8
                           A   708    .define "quot"
                           A   709    .value 0
                           A   710    .class 8
                           A   711    .type 5
                           A   712    .type 0
                           A   713    .endef
                           A   714    .define "rem"
                           A   715    .value 4
                           A   716    .class 8
                           A   717    .type 5
                           A   718    .type 0
                           A   719    .endef
                           A   720    .endrec "NONAME1"
                           A   721    .begrec "fmt_type",16
                           A   722    .define "status"
                           A   723    .value 0
                           A   724    .class 8
                           A   725    .type 12
                           A   726    .type 0
                           A   727    .endef
                           A   728    .define "flags"
ZiLOG ZNEO Macro Assembler Version 1.10 (07022203)                                               29-Mar-11     22:45:37     page:  15


PC     Object              I  Line    Source led.src
                           A   729    .value 1
                           A   730    .class 8
                           A   731    .type 12
                           A   732    .type 0
                           A   733    .endef
                           A   734    .define "size"
                           A   735    .value 2
                           A   736    .class 8
                           A   737    .type 12
                           A   738    .type 0
                           A   739    .endef
                           A   740    .define "chr"
                           A   741    .value 3
                           A   742    .class 8
                           A   743    .type 12
                           A   744    .type 0
                           A   745    .endef
                           A   746    .define "type"
                           A   747    .value 4
                           A   748    .class 8
                           A   749    .type 12
                           A   750    .type 0
                           A   751    .endef
                           A   752    .define "field_width"
                           A   753    .value 5
                           A   754    .class 8
                           A   755    .type 2
                           A   756    .type 0
                           A   757    .endef
                           A   758    .define "precision"
                           A   759    .value 6
                           A   760    .class 8
                           A   761    .type 2
                           A   762    .type 0
                           A   763    .endef
                           A   764    .define "set_begin"
                           A   765    .value 7
                           A   766    .class 8
                           A   767    .type 140
                           A   768    .type 0
                           A   769    .endef
                           A   770    .define "set_end"
                           A   771    .value 9
                           A   772    .class 8
                           A   773    .type 140
                           A   774    .type 0
                           A   775    .endef
                           A   776    .define "pad_whole"
                           A   777    .value 11
                           A   778    .class 8
                           A   779    .type 12
                           A   780    .type 0
ZiLOG ZNEO Macro Assembler Version 1.10 (07022203)                                               29-Mar-11     22:45:37     page:  16


PC     Object              I  Line    Source led.src
                           A   781    .endef
                           A   782    .define "pad_pre_fract"
                           A   783    .value 12
                           A   784    .class 8
                           A   785    .type 12
                           A   786    .type 0
                           A   787    .endef
                           A   788    .define "pad_post_fract"
                           A   789    .value 13
                           A   790    .class 8
                           A   791    .type 12
                           A   792    .type 0
                           A   793    .endef
                           A   794    .define "pad_at"
                           A   795    .value 14
                           A   796    .class 8
                           A   797    .type 140
                           A   798    .type 0
                           A   799    .endef
                           A   800    .endrec "fmt_type"
                           A   801    .begrec "flt_info",12
                           A   802    .define "flags"
                           A   803    .value 0
                           A   804    .class 8
                           A   805    .type 12
                           A   806    .type 0
                           A   807    .endef
                           A   808    .define "exp"
                           A   809    .value 1
                           A   810    .class 8
                           A   811    .type 2
                           A   812    .type 0
                           A   813    .endef
                           A   814    .define "digits"
                           A   815    .value 2
                           A   816    .class 8
                           A   817    .dim 10
                           A   818    .type 108
                           A   819    .type 0
                           A   820    .endef
                           A   821    .endrec "flt_info"
                           A   822    	SEGMENT NEAR_BSS
00000002                   A   823    _msg_size:
00000002                   A   824    	DS	4*1
                           A   825    .define "msg_size"
                           A   826    .alias "_msg_size"
                           A   827    .class 147
                           A   828    .value _msg_size
                           A   829    .type 15
                           A   830    .type 0
                           A   831    .endef
00000006                   A   832    _draw_char:
ZiLOG ZNEO Macro Assembler Version 1.10 (07022203)                                               29-Mar-11     22:45:37     page:  17


PC     Object              I  Line    Source led.src
00000006                   A   833    	DS	16
                           A   834    .define "draw_char"
                           A   835    .alias "_draw_char"
                           A   836    .class 147
                           A   837    .value _draw_char
                           A   838    .dim 4
                           A   839    .type 111
                           A   840    .type 0
                           A   841    .endef
00000016                   A   842    _msg_pos:
00000016                   A   843    	DS	4*1
                           A   844    .define "msg_pos"
                           A   845    .alias "_msg_pos"
                           A   846    .class 147
                           A   847    .value _msg_pos
                           A   848    .type 15
                           A   849    .type 0
                           A   850    .endef
0000001A                   A   851    _row_pos:
0000001A                   A   852    	DS	4*1
                           A   853    .define "row_pos"
                           A   854    .alias "_row_pos"
                           A   855    .class 147
                           A   856    .value _row_pos
                           A   857    .type 15
                           A   858    .type 0
                           A   859    .endef
0000001E                   A   860    _led_scroll_timer:
0000001E                   A   861    	DS	4*1
                           A   862    .define "led_scroll_timer"
                           A   863    .alias "_led_scroll_timer"
                           A   864    .class 147
                           A   865    .value _led_scroll_timer
                           A   866    .type 5
                           A   867    .type 0
                           A   868    .endef
00000022                   A   869    _led_scroll_cutoff:
00000022                   A   870    	DS	4*1
                           A   871    .define "led_scroll_cutoff"
                           A   872    .alias "_led_scroll_cutoff"
                           A   873    .class 147
                           A   874    .value _led_scroll_cutoff
                           A   875    .type 5
                           A   876    .type 0
                           A   877    .endef
                           A   878    	SEGMENT NEAR_DATA
00000299                   A   879    _led_anode:
00000299 00000001          A   880    	DL	1
0000029D 00000002          A   881    	DL	2
000002A1 00000004          A   882    	DL	4
000002A5 00000008          A   883    	DL	8
000002A9 00000010          A   884    	DL	16
ZiLOG ZNEO Macro Assembler Version 1.10 (07022203)                                               29-Mar-11     22:45:37     page:  18


PC     Object              I  Line    Source led.src
000002AD 00000020          A   885    	DL	32
000002B1 00000040          A   886    	DL	64
                           A   887    .define "led_anode"
                           A   888    .alias "_led_anode"
                           A   889    .class 133
                           A   890    .value _led_anode
                           A   891    .dim 7
                           A   892    .type 111
                           A   893    .type 0
                           A   894    .endef
                           A   895    ;    1	#include "LED.h"
                           A   896    ;    2	#include "LED_ascii.h"
                           A   897    ;    3	#include "timer.h"
                           A   898    ;    4	
                           A   899    ;    5	#include <zneo.h>
                           A   900    ;    6	#include <stdlib.h>
                           A   901    ;    7	#include <stdio.h>
                           A   902    ;    8	#include <string.h>
                           A   903    ;    9	
                           A   904    ;   10	#define ASCII_SPACE  0
                           A   905    ;   11	#define ASCII_OFFSET 0x20
                           A   906    ;   12	#define NUM_LEDS     4
                           A   907    ;   13	
                           A   908    ;   14	//time in seconds
                           A   909    ;   15	#define SCROLL_CUTOFF 400
                           A   910    ;   16	
                           A   911    ;   17	#define LED_DEC_MAX  9999
                           A   912    ;   18	#define LED_HEX_MAX  0xFFFF
                           A   913    ;   19	
                           A   914    ;   20	#define NUM_ANODES   7
                           A   915    ;   21	#define D1           0
                           A   916    ;   22	#define D2           1
                           A   917    ;   23	#define D3           2
                           A   918    ;   24	#define D4           3
                           A   919    ;   25	
                           A   920    ;   26	#define MAX_DIGITS 16  //Max digits for number displayed on LED
                           A   921    ;   27	
                           A   922    ;   28	static unsigned char *led_msg;
                           A   923    ;   29	static size_t msg_size;
                           A   924    ;   30	
                           A   925    ;   31	static unsigned int draw_char[NUM_LEDS];
                           A   926    ;   32	static volatile unsigned int msg_pos;
                           A   927    ;   33	static volatile unsigned int row_pos;
                           A   928    ;   34	
                           A   929    ;   35	static volatile int led_scroll_timer;
                           A   930    ;   36	static int led_scroll_cutoff;
                           A   931    ;   37	
                           A   932    ;   38	//values for selecting each LED row
                           A   933    ;   39	static unsigned int led_anode[NUM_ANODES] =
                           A   934    ;   40	{
                           A   935    	SEGMENT CODE
                           A   936    ;   41		0x01,
ZiLOG ZNEO Macro Assembler Version 1.10 (07022203)                                               29-Mar-11     22:45:37     page:  19


PC     Object              I  Line    Source led.src
                           A   937    ;   42		0x02,
                           A   938    ;   43		0x04,
                           A   939    ;   44		0x08,
                           A   940    ;   45		0x10,
                           A   941    ;   46		0x20,
                           A   942    ;   47		0x40
                           A   943    ;   48	};
                           A   944    ;   49	
                           A   945    ;   50	static void led_scroll_draw_chars(void);
                           A   946    ;   51	static void led_set_draw_chars(void);
                           A   947    ;   52	static void led_draw_row(int led_id);
                           A   948    ;   53	
                           A   949    ;   54	void init_leds(void) 
                           A   950    ;   55	{ 
00000000                   A   951    _init_leds:
                           A   952    .define "_init_leds"
                           A   953    .value _init_leds
                           A   954    .class 2
                           A   955    .type 65
                           A   956    .type 0
                           A   957    .endef
                           A   958    .begfunc "init_leds",55,"_init_leds"
00000000 0800              A   959    	LINK	#0
                           A   960    ;   56	    PEDD = 0x00;	// data direction = outputs	
                           A   961    .line 56
00000002 ADA0 E142         A   962    	CLR.B	57666:RAM
                           A   963    ;   57		PGDD = 0x00;
                           A   964    .line 57
00000006 ADA0 E162         A   965    	CLR.B	57698:RAM
                           A   966    ;   58	
                           A   967    ;   59		led_scroll_timer = 0;
                           A   968    .line 59
0000000A ADA8 001E         A   969    	CLR	_led_scroll_timer:RAM
                           A   970    ;   60		led_scroll_cutoff = SCROLL_CUTOFF;
                           A   971    .line 60
0000000E 4500 0190         A   972    	LD	R0,#400
00000012 0370 0022         A   973    	LD	_led_scroll_cutoff:RAM,R0
                           A   974    ;   61	
                           A   975    ;   62		//set LED display defaults
                           A   976    ;   63		led_msg = NULL;
                           A   977    .line 63
00000016 ADA4 0000         A   978    	CLR.W	_led_msg:RAM
                           A   979    ;   64	
                           A   980    ;   65		msg_size = 0;
                           A   981    .line 65
0000001A ADA8 0002         A   982    	CLR	_msg_size:RAM
                           A   983    ;   66		draw_char[0] = ASCII_SPACE;
                           A   984    .line 66
0000001E ADA8 0006         A   985    	CLR	_draw_char:RAM
                           A   986    ;   67		draw_char[1] = ASCII_SPACE;
                           A   987    .line 67
00000022 ADA8 000A         A   988    	CLR	_draw_char+4:RAM
ZiLOG ZNEO Macro Assembler Version 1.10 (07022203)                                               29-Mar-11     22:45:37     page:  20


PC     Object              I  Line    Source led.src
                           A   989    ;   68		draw_char[2] = ASCII_SPACE;
                           A   990    .line 68
00000026 ADA8 000E         A   991    	CLR	_draw_char+8:RAM
                           A   992    ;   69		draw_char[3] = ASCII_SPACE;
                           A   993    .line 69
0000002A ADA8 0012         A   994    	CLR	_draw_char+12:RAM
                           A   995    ;   70	}
                           A   996    .line 70
0000002E 0001              A   997    	UNLINK	
00000030 FFFC              A   998    	RET	
                           A   999    
                           A  1000    
                           A  1001    ;**************************** _init_leds ***************************
                           A  1002    ;Name                         Addr/Register   Size   Type
                           A  1003    ;_draw_char                          STATIC     16   variable
                           A  1004    ;_msg_size                           STATIC      4   variable
                           A  1005    ;_led_msg                            STATIC      2   variable
                           A  1006    ;_led_scroll_cutoff                  STATIC      4   variable
                           A  1007    ;_led_scroll_timer                   STATIC      4   variable
                           A  1008    
                           A  1009    
                           A  1010    ; Aggregate Stack Size: 0 (words)
                           A  1011    
                           A  1012    
                           A  1013    .endfunc "init_leds",70,"_init_leds"
                           A  1014    ;   71	
                           A  1015    ;   72	void led_update(void)
                           A  1016    ;   73	{
00000032                   A  1017    _led_update:
                           A  1018    .define "_led_update"
                           A  1019    .value _led_update
                           A  1020    .class 2
                           A  1021    .type 65
                           A  1022    .type 0
                           A  1023    .endef
                           A  1024    .begfunc "led_update",73,"_led_update"
00000032 0800              A  1025    	LINK	#0
                           A  1026    ;   74		led_scroll_timer += timer_interval_int();
                           A  1027    .line 74
00000034 F1 FFFFE4         A  1028    	CALL	_timer_interval_int
00000038 7070 001E         A  1029    	ADD	_led_scroll_timer:RAM,R0
                           A  1030    ;   75	
                           A  1031    ;   76		//updates the characters being displayed at timer_cutoff interval
                           A  1032    ;   77		if((msg_size > 4) && 
                           A  1033    .line 77
0000003C 3004              A  1034    	LD	R0,#4
0000003E 7570 0002         A  1035    	CP	_msg_size:RAM,R0
00000042 E3 08             A  1036    	JP	ULE,_2_L_3
                           A  1037    ;   78		   (led_scroll_timer >= led_scroll_cutoff)) {
                           A  1038    .line 78
00000044 0340 0022         A  1039    	LD	R0,_led_scroll_cutoff:RAM
00000048 7570 001E         A  1040    	CP	_led_scroll_timer:RAM,R0
ZiLOG ZNEO Macro Assembler Version 1.10 (07022203)                                               29-Mar-11     22:45:37     page:  21


PC     Object              I  Line    Source led.src
0000004C E1 03             A  1041    	JP	LT,_2_L_3
                           A  1042    ;   79			led_scroll_timer = 0;
                           A  1043    .line 79
0000004E ADA8 001E         A  1044    	CLR	_led_scroll_timer:RAM
                           A  1045    ;   80	
                           A  1046    ;   81			led_scroll_draw_chars();
                           A  1047    .line 81
00000052 D0D7              A  1048    	CALL	_led_scroll_draw_chars
                           A  1049    ;   82		}
00000054                   A  1050    _2_L_3:
                           A  1051    .line 82
                           A  1052    ;   83	
                           A  1053    ;   84		//draw the current row for each LED
                           A  1054    ;   85		led_draw_row(D1);
                           A  1055    .line 85
00000054 3100              A  1056    	LD	R1,#0
00000056 D08A              A  1057    	CALL	_led_draw_row
                           A  1058    ;   86		led_draw_row(D2);
                           A  1059    .line 86
00000058 3101              A  1060    	LD	R1,#1
0000005A D088              A  1061    	CALL	_led_draw_row
                           A  1062    ;   87		led_draw_row(D3);
                           A  1063    .line 87
0000005C 3102              A  1064    	LD	R1,#2
0000005E D086              A  1065    	CALL	_led_draw_row
                           A  1066    ;   88		led_draw_row(D4);
                           A  1067    .line 88
00000060 3103              A  1068    	LD	R1,#3
00000062 D084              A  1069    	CALL	_led_draw_row
                           A  1070    ;   89	
                           A  1071    ;   90		//move to the next row for next time
                           A  1072    ;   91		row_pos = (row_pos + 1) % NUM_ANODES;
                           A  1073    .line 91
00000064 0340 001A         A  1074    	LD	R0,_row_pos:RAM
00000068 8001              A  1075    	ADD	R0,#1
0000006A 3107              A  1076    	LD	R1,#7
0000006C AE10              A  1077    	UDIV	R0,R1
0000006E 0371 001A         A  1078    	LD	_row_pos:RAM,R1
                           A  1079    ;   92	}
                           A  1080    .line 92
00000072 0001              A  1081    	UNLINK	
00000074 FFFC              A  1082    	RET	
                           A  1083    
                           A  1084    
                           A  1085    ;**************************** _led_update ***************************
                           A  1086    ;Name                         Addr/Register   Size   Type
                           A  1087    ;_row_pos                            STATIC      4   variable
                           A  1088    ;_led_draw_row                       STATIC  -----   function
                           A  1089    ;_led_scroll_draw_chars              STATIC  -----   function
                           A  1090    ;_led_scroll_cutoff                  STATIC      4   variable
                           A  1091    ;_msg_size                           STATIC      4   variable
                           A  1092    ;_timer_interval_int                 IMPORT  -----   function
ZiLOG ZNEO Macro Assembler Version 1.10 (07022203)                                               29-Mar-11     22:45:37     page:  22


PC     Object              I  Line    Source led.src
                           A  1093    ;_led_scroll_timer                   STATIC      4   variable
                           A  1094    
                           A  1095    
                           A  1096    ; Aggregate Stack Size: 0 (words)
                           A  1097    
                           A  1098    
                           A  1099    .endfunc "led_update",92,"_led_update"
                           A  1100    ;   93	
                           A  1101    ;   94	void led_set_scroll_cutoff(int ms)
                           A  1102    ;   95	{
00000076                   A  1103    _led_set_scroll_cutoff:
                           A  1104    .define "_led_set_scroll_cutoff"
                           A  1105    .value _led_set_scroll_cutoff
                           A  1106    .class 2
                           A  1107    .type 65
                           A  1108    .type 0
                           A  1109    .endef
                           A  1110    .begfunc "led_set_scroll_cutoff",95,"_led_set_scroll_cutoff"
                           A  1111    .line 95
                           A  1112    .define "ms"
                           A  1113    .class 17
                           A  1114    .reg 2
                           A  1115    .type 5
                           A  1116    .type 0
                           A  1117    .endef
00000076 0800              A  1118    	LINK	#0
                           A  1119    ;   96		led_scroll_cutoff = ms;
                           A  1120    .line 96
00000078 0371 0022         A  1121    	LD	_led_scroll_cutoff:RAM,R1
                           A  1122    ;   97	}
                           A  1123    .line 97
0000007C 0001              A  1124    	UNLINK	
0000007E FFFC              A  1125    	RET	
                           A  1126    
                           A  1127    
                           A  1128    ;**************************** _led_set_scroll_cutoff ***************************
                           A  1129    ;Name                         Addr/Register   Size   Type
                           A  1130    ;_led_scroll_cutoff                  STATIC      4   variable
                           A  1131    ;ms                                      R1      4   parameter
                           A  1132    
                           A  1133    
                           A  1134    ; Aggregate Stack Size: 0 (words)
                           A  1135    
                           A  1136    
                           A  1137    .endfunc "led_set_scroll_cutoff",97,"_led_set_scroll_cutoff"
                           A  1138    ;   98	
                           A  1139    ;   99	void led_display_text(const unsigned char *msg)
                           A  1140    ;  100	{
00000080                   A  1141    _led_display_text:
                           A  1142    .define "_led_display_text"
                           A  1143    .value _led_display_text
                           A  1144    .class 2
ZiLOG ZNEO Macro Assembler Version 1.10 (07022203)                                               29-Mar-11     22:45:37     page:  23


PC     Object              I  Line    Source led.src
                           A  1145    .type 65
                           A  1146    .type 0
                           A  1147    .endef
                           A  1148    .begfunc "led_display_text",100,"_led_display_text"
00000080 0804              A  1149    	LINK	#4
                           A  1150    .line 100
00000082 57E1              A  1151    	LD.W	-2(R14),R1
                           A  1152    .define "msg"
                           A  1153    .class 9
                           A  1154    .value -2
                           A  1155    .type 140
                           A  1156    .type 0
                           A  1157    .endef
                           A  1158    .define "new_msg"
                           A  1159    .class 1
                           A  1160    .value -4
                           A  1161    .type 140
                           A  1162    .type 0
                           A  1163    .endef
                           A  1164    ;  101		char *new_msg;
                           A  1165    ;  102	
                           A  1166    ;  103		msg_size = strlen(msg);
                           A  1167    .line 103
00000084 6FE1              A  1168    	LD.SW	R1,-2(R14)
00000086 F1 FFFFBB         A  1169    	CALL	_strlen
0000008A 0370 0002         A  1170    	LD	_msg_size:RAM,R0
                           A  1171    ;  104		new_msg = malloc(sizeof(*new_msg) * (msg_size + 2));	//+2 for space pad and null ter
                           A  1172    .line 104
0000008E 0341 0002         A  1173    	LD	R1,_msg_size:RAM
00000092 8102              A  1174    	ADD	R1,#2
00000094 F1 FFFFB4         A  1175    	CALL	_malloc
00000098 57C0              A  1176    	LD.W	-4(R14),R0
                           A  1177    ;  105		if(!new_msg) {
                           A  1178    .line 105
0000009A ADDE 7FFC         A  1179    	CPZ.W	-4(R14)
0000009E EE 03             A  1180    	JP	NE,_4_L_11
                           A  1181    ;  106			msg_size = 0;
                           A  1182    .line 106
000000A0 ADA8 0002         A  1183    	CLR	_msg_size:RAM
                           A  1184    ;  107		}
                           A  1185    ;  108		else {
                           A  1186    .line 108
000000A4 C028              A  1187    	JP	_4_L_12
000000A6                   A  1188    _4_L_11:
                           A  1189    ;  109			memcpy(new_msg, msg, msg_size);
                           A  1190    .line 109
000000A6 6FC1              A  1191    	LD.SW	R1,-4(R14)
000000A8 6FE2              A  1192    	LD.SW	R2,-2(R14)
000000AA 0343 0002         A  1193    	LD	R3,_msg_size:RAM
000000AE F1 FFFFA7         A  1194    	CALL	_memcpy
                           A  1195    ;  110	
                           A  1196    ;  111			//space pads the wrap-around
ZiLOG ZNEO Macro Assembler Version 1.10 (07022203)                                               29-Mar-11     22:45:37     page:  24


PC     Object              I  Line    Source led.src
                           A  1197    ;  112			if(msg_size > 4) {
                           A  1198    .line 112
000000B2 3004              A  1199    	LD	R0,#4
000000B4 7570 0002         A  1200    	CP	_msg_size:RAM,R0
000000B8 E3 08             A  1201    	JP	ULE,_4_L_7
                           A  1202    ;  113				new_msg[msg_size] = ' ';
                           A  1203    .line 113
000000BA 0330 0004         A  1204    	LD.SW	R0,_msg_size+2:RAM
000000BE 78E0 7FFC         A  1205    	ADD.SW	R0,-4(R14)
000000C2 09C0 0020         A  1206    	LD.B	(R0),#32
                           A  1207    ;  114				++msg_size;
                           A  1208    .line 114
000000C6 ADAA 0002         A  1209    	INC	_msg_size:RAM
                           A  1210    ;  115			}
000000CA                   A  1211    _4_L_7:
                           A  1212    .line 115
                           A  1213    ;  116			new_msg[msg_size] = '\0';
                           A  1214    .line 116
000000CA 0330 0004         A  1215    	LD.SW	R0,_msg_size+2:RAM
000000CE 78E0 7FFC         A  1216    	ADD.SW	R0,-4(R14)
000000D2 AC00              A  1217    	CLR.B	(R0)
                           A  1218    ;  117	
                           A  1219    ;  118			DI();
                           A  1220    .line 118
000000D4 FFFB              A  1221    	DI
                           A  1222    ;  119			
                           A  1223    ;  120			if(led_msg != NULL) {
                           A  1224    .line 120
000000D6 ADA5 0000         A  1225    	CPZ.W	_led_msg:RAM
000000DA E6 04             A  1226    	JP	EQ,_4_L_9
                           A  1227    ;  121				free(led_msg);
                           A  1228    .line 121
000000DC 0331 0000         A  1229    	LD.SW	R1,_led_msg:RAM
000000E0 F1 FFFF8E         A  1230    	CALL	_free
                           A  1231    ;  122			}
000000E4                   A  1232    _4_L_9:
                           A  1233    .line 122
                           A  1234    ;  123			
                           A  1235    ;  124			led_msg = new_msg;
                           A  1236    .line 124
000000E4 6FC0              A  1237    	LD.SW	R0,-4(R14)
000000E6 0360 0000         A  1238    	LD.W	_led_msg:RAM,R0
                           A  1239    ;  125			msg_pos = 0;
                           A  1240    .line 125
000000EA ADA8 0016         A  1241    	CLR	_msg_pos:RAM
                           A  1242    ;  126			row_pos = 0;
                           A  1243    .line 126
000000EE ADA8 001A         A  1244    	CLR	_row_pos:RAM
                           A  1245    ;  127			led_set_draw_chars();
                           A  1246    .line 127
000000F2 D0BE              A  1247    	CALL	_led_set_draw_chars
                           A  1248    ;  128	
ZiLOG ZNEO Macro Assembler Version 1.10 (07022203)                                               29-Mar-11     22:45:37     page:  25


PC     Object              I  Line    Source led.src
                           A  1249    ;  129			EI();
                           A  1250    .line 129
000000F4 FFFA              A  1251    	EI
                           A  1252    ;  130		}
                           A  1253    ;  131	}
000000F6                   A  1254    _4_L_12:
                           A  1255    .line 131
000000F6 0001              A  1256    	UNLINK	
000000F8 FFFC              A  1257    	RET	
                           A  1258    
                           A  1259    
                           A  1260    ;**************************** _led_display_text ***************************
                           A  1261    ;Name                         Addr/Register   Size   Type
                           A  1262    ;_EI                                 IMPORT  -----   function
                           A  1263    ;_led_set_draw_chars                 STATIC  -----   function
                           A  1264    ;_row_pos                            STATIC      4   variable
                           A  1265    ;_msg_pos                            STATIC      4   variable
                           A  1266    ;_free                               IMPORT  -----   function
                           A  1267    ;_led_msg                            STATIC      2   variable
                           A  1268    ;_DI                                 IMPORT  -----   function
                           A  1269    ;_memcpy                             IMPORT  -----   function
                           A  1270    ;_malloc                             IMPORT  -----   function
                           A  1271    ;_msg_size                           STATIC      4   variable
                           A  1272    ;_strlen                             IMPORT  -----   function
                           A  1273    ;new_msg                              R14-4      2   variable
                           A  1274    ;msg                                  R14-2      2   parameter
                           A  1275    
                           A  1276    
                           A  1277    ; Aggregate Stack Size: -4 (words)
                           A  1278    
                           A  1279    
                           A  1280    .endfunc "led_display_text",131,"_led_display_text"
                           A  1281    ;  132	
                           A  1282    ;  133	void led_display_double(double value)
                           A  1283    ;  134	{
000000FA                   A  1284    _led_display_double:
                           A  1285    .define "_led_display_double"
                           A  1286    .value _led_display_double
                           A  1287    .class 2
                           A  1288    .type 65
                           A  1289    .type 0
                           A  1290    .endef
                           A  1291    .begfunc "led_display_double",134,"_led_display_double"
000000FA 0814              A  1292    	LINK	#20
                           A  1293    .line 134
000000FC 5BC1              A  1294    	LD	-4(R14),R1
                           A  1295    .define "value"
                           A  1296    .class 9
                           A  1297    .value -4
                           A  1298    .type 6
                           A  1299    .type 0
                           A  1300    .endef
ZiLOG ZNEO Macro Assembler Version 1.10 (07022203)                                               29-Mar-11     22:45:37     page:  26


PC     Object              I  Line    Source led.src
                           A  1301    .define "num_msg"
                           A  1302    .class 1
                           A  1303    .value -20
                           A  1304    .dim 16
                           A  1305    .type 108
                           A  1306    .type 0
                           A  1307    .endef
                           A  1308    ;  135		unsigned char num_msg[MAX_DIGITS];
                           A  1309    ;  136	
                           A  1310    ;  137		sprintf(num_msg, "%f", value);
                           A  1311    .line 137
000000FE 4EC0              A  1312    	LEA	R0,-20(R14)
00000100 0360 0000         A  1313    	LD.W	___print_out:RAM,R0
00000104 3006              A  1314    	LD	R0,#6
00000106 0350 0006         A  1315    	LD.B	___print_fmt+6:RAM,R0
0000010A 3066              A  1316    	LD	R0,#102
0000010C 0350 0004         A  1317    	LD.B	___print_fmt+4:RAM,R0
00000110 5FC1              A  1318    	LD	R1,-4(R14)
00000112 F1 FFFF75         A  1319    	CALL	__u_dtof
00000116 3100              A  1320    	LD	R1,#0
00000118 F1 FFFF72         A  1321    	CALL	___print_sputch
                           A  1322    ;  138	
                           A  1323    ;  139		led_display_text(num_msg);
                           A  1324    .line 139
0000011C 4EC1              A  1325    	LEA	R1,-20(R14)
0000011E DFB0              A  1326    	CALL	_led_display_text
                           A  1327    ;  140	}
                           A  1328    .line 140
00000120 0001              A  1329    	UNLINK	
00000122 FFFC              A  1330    	RET	
                           A  1331    
                           A  1332    
                           A  1333    ;**************************** _led_display_double ***************************
                           A  1334    ;Name                         Addr/Register   Size   Type
                           A  1335    ;_led_display_text                   IMPORT  -----   function
                           A  1336    ;___print_sputch                     IMPORT  -----   function
                           A  1337    ;__u_dtof                            IMPORT  -----   function
                           A  1338    ;___print_fmt                        IMPORT     16   variable
                           A  1339    ;___print_out                        IMPORT      2   variable
                           A  1340    ;num_msg                             R14-20     16   variable
                           A  1341    ;value                                R14-4      4   parameter
                           A  1342    
                           A  1343    
                           A  1344    ; Aggregate Stack Size: -20 (words)
                           A  1345    
                           A  1346    
                           A  1347    .endfunc "led_display_double",140,"_led_display_double"
                           A  1348    ;  141	
                           A  1349    ;  142	void led_display_int(int value)
                           A  1350    ;  143	{
00000124                   A  1351    _led_display_int:
                           A  1352    .define "_led_display_int"
ZiLOG ZNEO Macro Assembler Version 1.10 (07022203)                                               29-Mar-11     22:45:37     page:  27


PC     Object              I  Line    Source led.src
                           A  1353    .value _led_display_int
                           A  1354    .class 2
                           A  1355    .type 65
                           A  1356    .type 0
                           A  1357    .endef
                           A  1358    .begfunc "led_display_int",143,"_led_display_int"
00000124 0814              A  1359    	LINK	#20
                           A  1360    .line 143
00000126 5BC1              A  1361    	LD	-4(R14),R1
                           A  1362    .define "value"
                           A  1363    .class 9
                           A  1364    .value -4
                           A  1365    .type 5
                           A  1366    .type 0
                           A  1367    .endef
                           A  1368    .define "num_msg"
                           A  1369    .class 1
                           A  1370    .value -20
                           A  1371    .dim 16
                           A  1372    .type 108
                           A  1373    .type 0
                           A  1374    .endef
                           A  1375    ;  144		unsigned char num_msg[MAX_DIGITS];
                           A  1376    ;  145	
                           A  1377    ;  146		sprintf(num_msg, "%d", value);
                           A  1378    .line 146
00000128 4EC0              A  1379    	LEA	R0,-20(R14)
0000012A 0360 0000         A  1380    	LD.W	___print_out:RAM,R0
0000012E 6FE1              A  1381    	LD.SW	R1,-2(R14)
00000130 F1 FFFF66         A  1382    	CALL	__u_stoa
00000134 3100              A  1383    	LD	R1,#0
00000136 F1 FFFF63         A  1384    	CALL	___print_sputch
                           A  1385    ;  147	
                           A  1386    ;  148		led_display_text(num_msg);
                           A  1387    .line 148
0000013A 4EC1              A  1388    	LEA	R1,-20(R14)
0000013C DFA1              A  1389    	CALL	_led_display_text
                           A  1390    ;  149	}
                           A  1391    .line 149
0000013E 0001              A  1392    	UNLINK	
00000140 FFFC              A  1393    	RET	
                           A  1394    
                           A  1395    
                           A  1396    ;**************************** _led_display_int ***************************
                           A  1397    ;Name                         Addr/Register   Size   Type
                           A  1398    ;_led_display_text                   IMPORT  -----   function
                           A  1399    ;___print_sputch                     IMPORT  -----   function
                           A  1400    ;__u_stoa                            IMPORT  -----   function
                           A  1401    ;___print_out                        IMPORT      2   variable
                           A  1402    ;num_msg                             R14-20     16   variable
                           A  1403    ;value                                R14-4      4   parameter
                           A  1404    
ZiLOG ZNEO Macro Assembler Version 1.10 (07022203)                                               29-Mar-11     22:45:37     page:  28


PC     Object              I  Line    Source led.src
                           A  1405    
                           A  1406    ; Aggregate Stack Size: -20 (words)
                           A  1407    
                           A  1408    
                           A  1409    .endfunc "led_display_int",149,"_led_display_int"
                           A  1410    ;  150	
                           A  1411    ;  151	void led_display_int_hex(int value)
                           A  1412    ;  152	{
00000142                   A  1413    _led_display_int_hex:
                           A  1414    .define "_led_display_int_hex"
                           A  1415    .value _led_display_int_hex
                           A  1416    .class 2
                           A  1417    .type 65
                           A  1418    .type 0
                           A  1419    .endef
                           A  1420    .begfunc "led_display_int_hex",152,"_led_display_int_hex"
00000142 0814              A  1421    	LINK	#20
                           A  1422    .line 152
00000144 5BC1              A  1423    	LD	-4(R14),R1
                           A  1424    .define "value"
                           A  1425    .class 9
                           A  1426    .value -4
                           A  1427    .type 5
                           A  1428    .type 0
                           A  1429    .endef
                           A  1430    .define "num_msg"
                           A  1431    .class 1
                           A  1432    .value -20
                           A  1433    .dim 16
                           A  1434    .type 108
                           A  1435    .type 0
                           A  1436    .endef
                           A  1437    ;  153		unsigned char num_msg[MAX_DIGITS];
                           A  1438    ;  154	
                           A  1439    ;  155		sprintf(num_msg, "%X", value);
                           A  1440    .line 155
00000146 4EC0              A  1441    	LEA	R0,-20(R14)
00000148 0360 0000         A  1442    	LD.W	___print_out:RAM,R0
0000014C 3020              A  1443    	LD	R0,#32
0000014E 0350 0001         A  1444    	LD.B	___print_fmt+1:RAM,R0
00000152 3078              A  1445    	LD	R0,#120
00000154 0350 0004         A  1446    	LD.B	___print_fmt+4:RAM,R0
00000158 6FE1              A  1447    	LD.SW	R1,-2(R14)
0000015A F1 FFFF51         A  1448    	CALL	__u_ustoa
0000015E 3100              A  1449    	LD	R1,#0
00000160 F1 FFFF4E         A  1450    	CALL	___print_sputch
                           A  1451    ;  156	
                           A  1452    ;  157		led_display_text(num_msg);
                           A  1453    .line 157
00000164 4EC1              A  1454    	LEA	R1,-20(R14)
00000166 DF8C              A  1455    	CALL	_led_display_text
                           A  1456    ;  158	}
ZiLOG ZNEO Macro Assembler Version 1.10 (07022203)                                               29-Mar-11     22:45:37     page:  29


PC     Object              I  Line    Source led.src
                           A  1457    .line 158
00000168 0001              A  1458    	UNLINK	
0000016A FFFC              A  1459    	RET	
                           A  1460    
                           A  1461    
                           A  1462    ;**************************** _led_display_int_hex ***************************
                           A  1463    ;Name                         Addr/Register   Size   Type
                           A  1464    ;_led_display_text                   IMPORT  -----   function
                           A  1465    ;___print_sputch                     IMPORT  -----   function
                           A  1466    ;__u_ustoa                           IMPORT  -----   function
                           A  1467    ;___print_fmt                        IMPORT     16   variable
                           A  1468    ;___print_out                        IMPORT      2   variable
                           A  1469    ;num_msg                             R14-20     16   variable
                           A  1470    ;value                                R14-4      4   parameter
                           A  1471    
                           A  1472    
                           A  1473    ; Aggregate Stack Size: -20 (words)
                           A  1474    
                           A  1475    
                           A  1476    .endfunc "led_display_int_hex",158,"_led_display_int_hex"
                           A  1477    ;  159	
                           A  1478    ;  160	/*
                           A  1479    ;  161	 	Draws the current row to a particular LED
                           A  1480    ;  162	 */
                           A  1481    ;  163	static void led_draw_row(int led_id)
                           A  1482    ;  164	{
0000016C                   A  1483    _led_draw_row:
                           A  1484    .define "_led_draw_row"
                           A  1485    .value _led_draw_row
                           A  1486    .class 3
                           A  1487    .type 65
                           A  1488    .type 0
                           A  1489    .endef
                           A  1490    .begfunc "led_draw_row",164,"_led_draw_row"
                           A  1491    .line 164
                           A  1492    .define "led_id"
                           A  1493    .class 17
                           A  1494    .reg 2
                           A  1495    .type 5
                           A  1496    .type 0
                           A  1497    .endef
0000016C 0800              A  1498    	LINK	#0
                           A  1499    ;  165		// set cathodes
                           A  1500    ;  166		PEOUT |= 0x1F;
                           A  1501    .line 166
0000016E 301F              A  1502    	LD	R0,#31
00000170 7350 E141         A  1503    	OR.B	57665:RAM,R0
                           A  1504    ;  167		PEOUT &= ~char_data[draw_char[led_id]][row_pos];
                           A  1505    .line 167
00000174 4410              A  1506    	LD	R0,R1
00000176 BC20              A  1507    	SLL	R0,#2
00000178 4512 0006         A  1508    	LD	R2,#_draw_char
ZiLOG ZNEO Macro Assembler Version 1.10 (07022203)                                               29-Mar-11     22:45:37     page:  30


PC     Object              I  Line    Source led.src
0000017C A020              A  1509    	ADD	R0,R2
0000017E 1200              A  1510    	LD	R0,(R0)
00000180 3207              A  1511    	LD	R2,#7
00000182 B220              A  1512    	MUL	R0,R2
00000184 4512 0000         A  1513    	LD	R2,#_char_data
00000188 A002              A  1514    	ADD	R2,R0
0000018A 0330 001C         A  1515    	LD.SW	R0,_row_pos+2:RAM
0000018E A020              A  1516    	ADD	R0,R2
00000190 1C00              A  1517    	LD.SB	R0,(R0)
00000192 4540              A  1518    	COM	R0
00000194 7250 E141         A  1519    	AND.B	57665:RAM,R0
                           A  1520    ;  168	
                           A  1521    ;  169		// set anodes
                           A  1522    ;  170		PGOUT &= 0x80;
                           A  1523    .line 170
00000198 4500 0080         A  1524    	LD	R0,#128
0000019C 7250 E161         A  1525    	AND.B	57697:RAM,R0
                           A  1526    ;  171		PGOUT |= led_anode[row_pos];
                           A  1527    .line 171
000001A0 0340 001A         A  1528    	LD	R0,_row_pos:RAM
000001A4 BC20              A  1529    	SLL	R0,#2
000001A6 4512 0299         A  1530    	LD	R2,#_led_anode
000001AA A020              A  1531    	ADD	R0,R2
000001AC 4900 8003         A  1532    	LD.SB	R0,3(R0)
000001B0 7350 E161         A  1533    	OR.B	57697:RAM,R0
                           A  1534    ;  172	
                           A  1535    ;  173		//latch the LED
                           A  1536    ;  174		if(led_id == D1) {               // PE7 controls D1
                           A  1537    .line 174
000001B4 9100              A  1538    	CP	R1,#0
000001B6 EE 08             A  1539    	JP	NE,_8_L_22
                           A  1540    ;  175	        PEOUT &= ~0x80;           //   create rising edge on PE7, clear bit 7
                           A  1541    .line 175
000001B8 307F              A  1542    	LD	R0,#127
000001BA 7250 E141         A  1543    	AND.B	57665:RAM,R0
                           A  1544    ;  176	        PEOUT |= 0x80;            //   set bit 7
                           A  1545    .line 176
000001BE 4500 0080         A  1546    	LD	R0,#128
000001C2 7350 E141         A  1547    	OR.B	57665:RAM,R0
                           A  1548    ;  177	    }
                           A  1549    ;  178	    else if(led_id == D2) {               // PG7 controls D2
                           A  1550    .line 178
000001C6 C01B              A  1551    	JP	_8_L_23
000001C8                   A  1552    _8_L_22:
000001C8 9101              A  1553    	CP	R1,#1
000001CA EE 08             A  1554    	JP	NE,_8_L_20
                           A  1555    ;  179	        PGOUT &= ~0x80;           //   create rising edge on PG7
                           A  1556    .line 179
000001CC 307F              A  1557    	LD	R0,#127
000001CE 7250 E161         A  1558    	AND.B	57697:RAM,R0
                           A  1559    ;  180	        PGOUT |= 0x80; 
                           A  1560    .line 180
ZiLOG ZNEO Macro Assembler Version 1.10 (07022203)                                               29-Mar-11     22:45:37     page:  31


PC     Object              I  Line    Source led.src
000001D2 4500 0080         A  1561    	LD	R0,#128
000001D6 7350 E161         A  1562    	OR.B	57697:RAM,R0
                           A  1563    ;  181	    }
                           A  1564    ;  182	    else if(led_id == D3) {               // PE5 controls D3
                           A  1565    .line 182
000001DA C011              A  1566    	JP	_8_L_23
000001DC                   A  1567    _8_L_20:
000001DC 9102              A  1568    	CP	R1,#2
000001DE EE 07             A  1569    	JP	NE,_8_L_18
                           A  1570    ;  183	        PEOUT &= ~0x20;           //   create rising edge on PE5
                           A  1571    .line 183
000001E0 30DF              A  1572    	LD	R0,#-33
000001E2 7250 E141         A  1573    	AND.B	57665:RAM,R0
                           A  1574    ;  184	        PEOUT |= 0x20; 
                           A  1575    .line 184
000001E6 3020              A  1576    	LD	R0,#32
000001E8 7350 E141         A  1577    	OR.B	57665:RAM,R0
                           A  1578    ;  185	    }
                           A  1579    ;  186	    else if(led_id == D4) {               // PE6 controls D4
                           A  1580    .line 186
000001EC C008              A  1581    	JP	_8_L_23
000001EE                   A  1582    _8_L_18:
000001EE 9103              A  1583    	CP	R1,#3
000001F0 EE 06             A  1584    	JP	NE,_8_L_23
                           A  1585    ;  187	        PEOUT &= ~0x40;           //   create rising edge on PE6
                           A  1586    .line 187
000001F2 30BF              A  1587    	LD	R0,#-65
000001F4 7250 E141         A  1588    	AND.B	57665:RAM,R0
                           A  1589    ;  188	        PEOUT |= 0x40; 
                           A  1590    .line 188
000001F8 3040              A  1591    	LD	R0,#64
000001FA 7350 E141         A  1592    	OR.B	57665:RAM,R0
                           A  1593    ;  189	    }
                           A  1594    ;  190	}
000001FE                   A  1595    _8_L_23:
                           A  1596    .line 190
000001FE 0001              A  1597    	UNLINK	
00000200 FFFC              A  1598    	RET	
                           A  1599    
                           A  1600    
                           A  1601    ;**************************** _led_draw_row ***************************
                           A  1602    ;Name                         Addr/Register   Size   Type
                           A  1603    ;_led_anode                          STATIC     28   variable
                           A  1604    ;_row_pos                            STATIC      4   variable
                           A  1605    ;_draw_char                          STATIC     16   variable
                           A  1606    ;_char_data                          STATIC    665   variable
                           A  1607    ;led_id                                  R1      4   parameter
                           A  1608    
                           A  1609    
                           A  1610    ; Aggregate Stack Size: 0 (words)
                           A  1611    
                           A  1612    
ZiLOG ZNEO Macro Assembler Version 1.10 (07022203)                                               29-Mar-11     22:45:37     page:  32


PC     Object              I  Line    Source led.src
                           A  1613    .endfunc "led_draw_row",190,"_led_draw_row"
                           A  1614    ;  191	
                           A  1615    ;  192	/*
                           A  1616    ;  193		Updates what characters the LED is drawing.
                           A  1617    ;  194	 */
                           A  1618    ;  195	static void led_scroll_draw_chars(void)
                           A  1619    ;  196	{
00000202                   A  1620    _led_scroll_draw_chars:
                           A  1621    .define "_led_scroll_draw_chars"
                           A  1622    .value _led_scroll_draw_chars
                           A  1623    .class 3
                           A  1624    .type 65
                           A  1625    .type 0
                           A  1626    .endef
                           A  1627    .begfunc "led_scroll_draw_chars",196,"_led_scroll_draw_chars"
00000202 0800              A  1628    	LINK	#0
                           A  1629    ;  197		//update what each led is drawing
                           A  1630    ;  198		draw_char[0] = ((unsigned int)led_msg[msg_pos]) - ASCII_OFFSET;
                           A  1631    .line 198
00000204 0330 0018         A  1632    	LD.SW	R0,_msg_pos+2:RAM
00000208 7030 0000         A  1633    	ADD.SW	R0,_led_msg:RAM
0000020C 1800              A  1634    	LD.UB	R0,(R0)
0000020E 80E0              A  1635    	ADD	R0,#-32
00000210 0370 0006         A  1636    	LD	_draw_char:RAM,R0
                           A  1637    ;  199		draw_char[1] = ((unsigned int)led_msg[(msg_pos + 1) % msg_size]) - ASCII_OFFSET;
                           A  1638    .line 199
00000214 0341 0016         A  1639    	LD	R1,_msg_pos:RAM
00000218 8101              A  1640    	ADD	R1,#1
0000021A 0340 0002         A  1641    	LD	R0,_msg_size:RAM
0000021E AE01              A  1642    	UDIV	R1,R0
00000220 7030 0000         A  1643    	ADD.SW	R0,_led_msg:RAM
00000224 1800              A  1644    	LD.UB	R0,(R0)
00000226 80E0              A  1645    	ADD	R0,#-32
00000228 0370 000A         A  1646    	LD	_draw_char+4:RAM,R0
                           A  1647    ;  200		draw_char[2] = ((unsigned int)led_msg[(msg_pos + 2) % msg_size]) - ASCII_OFFSET;
                           A  1648    .line 200
0000022C 0341 0016         A  1649    	LD	R1,_msg_pos:RAM
00000230 8102              A  1650    	ADD	R1,#2
00000232 0340 0002         A  1651    	LD	R0,_msg_size:RAM
00000236 AE01              A  1652    	UDIV	R1,R0
00000238 7030 0000         A  1653    	ADD.SW	R0,_led_msg:RAM
0000023C 1800              A  1654    	LD.UB	R0,(R0)
0000023E 80E0              A  1655    	ADD	R0,#-32
00000240 0370 000E         A  1656    	LD	_draw_char+8:RAM,R0
                           A  1657    ;  201		draw_char[3] = ((unsigned int)led_msg[(msg_pos + 3) % msg_size]) - ASCII_OFFSET;
                           A  1658    .line 201
00000244 0341 0016         A  1659    	LD	R1,_msg_pos:RAM
00000248 8103              A  1660    	ADD	R1,#3
0000024A 0340 0002         A  1661    	LD	R0,_msg_size:RAM
0000024E AE01              A  1662    	UDIV	R1,R0
00000250 7030 0000         A  1663    	ADD.SW	R0,_led_msg:RAM
00000254 1800              A  1664    	LD.UB	R0,(R0)
ZiLOG ZNEO Macro Assembler Version 1.10 (07022203)                                               29-Mar-11     22:45:37     page:  33


PC     Object              I  Line    Source led.src
00000256 80E0              A  1665    	ADD	R0,#-32
00000258 0370 0012         A  1666    	LD	_draw_char+12:RAM,R0
                           A  1667    ;  202		msg_pos = (msg_pos + 1) % msg_size;
                           A  1668    .line 202
0000025C 0340 0016         A  1669    	LD	R0,_msg_pos:RAM
00000260 8001              A  1670    	ADD	R0,#1
00000262 0341 0002         A  1671    	LD	R1,_msg_size:RAM
00000266 AE10              A  1672    	UDIV	R0,R1
00000268 0371 0016         A  1673    	LD	_msg_pos:RAM,R1
                           A  1674    ;  203	}
                           A  1675    .line 203
0000026C 0001              A  1676    	UNLINK	
0000026E FFFC              A  1677    	RET	
                           A  1678    
                           A  1679    
                           A  1680    ;**************************** _led_scroll_draw_chars ***************************
                           A  1681    ;Name                         Addr/Register   Size   Type
                           A  1682    ;_msg_size                           STATIC      4   variable
                           A  1683    ;_draw_char                          STATIC     16   variable
                           A  1684    ;_msg_pos                            STATIC      4   variable
                           A  1685    ;_led_msg                            STATIC      2   variable
                           A  1686    
                           A  1687    
                           A  1688    ; Aggregate Stack Size: 0 (words)
                           A  1689    
                           A  1690    
                           A  1691    .endfunc "led_scroll_draw_chars",203,"_led_scroll_draw_chars"
                           A  1692    ;  204	
                           A  1693    ;  205	/*
                           A  1694    ;  206		Sets the characters the LED is drawing to the first 4 of the message.
                           A  1695    ;  207	 */
                           A  1696    ;  208	static void led_set_draw_chars(void)
                           A  1697    ;  209	{
00000270                   A  1698    _led_set_draw_chars:
                           A  1699    .define "_led_set_draw_chars"
                           A  1700    .value _led_set_draw_chars
                           A  1701    .class 3
                           A  1702    .type 65
                           A  1703    .type 0
                           A  1704    .endef
                           A  1705    .begfunc "led_set_draw_chars",209,"_led_set_draw_chars"
00000270 0800              A  1706    	LINK	#0
                           A  1707    ;  210		if(msg_size > 0) {
                           A  1708    .line 210
00000272 ADA9 0002         A  1709    	CPZ	_msg_size:RAM
00000276 E3 09             A  1710    	JP	ULE,_10_L_26
                           A  1711    ;  211			draw_char[0] = ((unsigned int)led_msg[msg_pos]) - ASCII_OFFSET;
                           A  1712    .line 211
00000278 0330 0018         A  1713    	LD.SW	R0,_msg_pos+2:RAM
0000027C 7030 0000         A  1714    	ADD.SW	R0,_led_msg:RAM
00000280 1800              A  1715    	LD.UB	R0,(R0)
00000282 80E0              A  1716    	ADD	R0,#-32
ZiLOG ZNEO Macro Assembler Version 1.10 (07022203)                                               29-Mar-11     22:45:37     page:  34


PC     Object              I  Line    Source led.src
00000284 0370 0006         A  1717    	LD	_draw_char:RAM,R0
                           A  1718    ;  212		}
                           A  1719    ;  213		else {
                           A  1720    .line 213
00000288 C002              A  1721    	JP	_10_L_29
0000028A                   A  1722    _10_L_26:
                           A  1723    ;  214			draw_char[0] = ASCII_SPACE;
                           A  1724    .line 214
0000028A ADA8 0006         A  1725    	CLR	_draw_char:RAM
                           A  1726    ;  215		}
0000028E                   A  1727    _10_L_29:
                           A  1728    .line 215
                           A  1729    ;  216		
                           A  1730    ;  217		if(msg_size > 1) {
                           A  1731    .line 217
0000028E 3001              A  1732    	LD	R0,#1
00000290 7570 0002         A  1733    	CP	_msg_size:RAM,R0
00000294 E3 0D             A  1734    	JP	ULE,_10_L_28
                           A  1735    ;  218			draw_char[1] = ((unsigned int)led_msg[(msg_pos + 1) % msg_size]) - ASCII_OFFSET;
                           A  1736    .line 218
00000296 0341 0016         A  1737    	LD	R1,_msg_pos:RAM
0000029A 8101              A  1738    	ADD	R1,#1
0000029C 0340 0002         A  1739    	LD	R0,_msg_size:RAM
000002A0 AE01              A  1740    	UDIV	R1,R0
000002A2 7030 0000         A  1741    	ADD.SW	R0,_led_msg:RAM
000002A6 1800              A  1742    	LD.UB	R0,(R0)
000002A8 80E0              A  1743    	ADD	R0,#-32
000002AA 0370 000A         A  1744    	LD	_draw_char+4:RAM,R0
                           A  1745    ;  219		}
                           A  1746    ;  220		else {
                           A  1747    .line 220
000002AE C002              A  1748    	JP	_10_L_32
000002B0                   A  1749    _10_L_28:
                           A  1750    ;  221			draw_char[1] = ASCII_SPACE;
                           A  1751    .line 221
000002B0 ADA8 000A         A  1752    	CLR	_draw_char+4:RAM
                           A  1753    ;  222		}
000002B4                   A  1754    _10_L_32:
                           A  1755    .line 222
                           A  1756    ;  223		
                           A  1757    ;  224		if(msg_size > 2) {
                           A  1758    .line 224
000002B4 3002              A  1759    	LD	R0,#2
000002B6 7570 0002         A  1760    	CP	_msg_size:RAM,R0
000002BA E3 0D             A  1761    	JP	ULE,_10_L_31
                           A  1762    ;  225			draw_char[2] = ((unsigned int)led_msg[(msg_pos + 2) % msg_size]) - ASCII_OFFSET;
                           A  1763    .line 225
000002BC 0341 0016         A  1764    	LD	R1,_msg_pos:RAM
000002C0 8102              A  1765    	ADD	R1,#2
000002C2 0340 0002         A  1766    	LD	R0,_msg_size:RAM
000002C6 AE01              A  1767    	UDIV	R1,R0
000002C8 7030 0000         A  1768    	ADD.SW	R0,_led_msg:RAM
ZiLOG ZNEO Macro Assembler Version 1.10 (07022203)                                               29-Mar-11     22:45:37     page:  35


PC     Object              I  Line    Source led.src
000002CC 1800              A  1769    	LD.UB	R0,(R0)
000002CE 80E0              A  1770    	ADD	R0,#-32
000002D0 0370 000E         A  1771    	LD	_draw_char+8:RAM,R0
                           A  1772    ;  226		}
                           A  1773    ;  227		else {
                           A  1774    .line 227
000002D4 C002              A  1775    	JP	_10_L_35
000002D6                   A  1776    _10_L_31:
                           A  1777    ;  228			draw_char[2] = ASCII_SPACE;
                           A  1778    .line 228
000002D6 ADA8 000E         A  1779    	CLR	_draw_char+8:RAM
                           A  1780    ;  229		}
000002DA                   A  1781    _10_L_35:
                           A  1782    .line 229
                           A  1783    ;  230		
                           A  1784    ;  231		if(msg_size > 3) {
                           A  1785    .line 231
000002DA 3003              A  1786    	LD	R0,#3
000002DC 7570 0002         A  1787    	CP	_msg_size:RAM,R0
000002E0 E3 0D             A  1788    	JP	ULE,_10_L_34
                           A  1789    ;  232			draw_char[3] = ((unsigned int)led_msg[(msg_pos + 3) % msg_size]) - ASCII_OFFSET;
                           A  1790    .line 232
000002E2 0341 0016         A  1791    	LD	R1,_msg_pos:RAM
000002E6 8103              A  1792    	ADD	R1,#3
000002E8 0340 0002         A  1793    	LD	R0,_msg_size:RAM
000002EC AE01              A  1794    	UDIV	R1,R0
000002EE 7030 0000         A  1795    	ADD.SW	R0,_led_msg:RAM
000002F2 1800              A  1796    	LD.UB	R0,(R0)
000002F4 80E0              A  1797    	ADD	R0,#-32
000002F6 0370 0012         A  1798    	LD	_draw_char+12:RAM,R0
                           A  1799    ;  233		}
                           A  1800    ;  234		else {
                           A  1801    .line 234
000002FA C002              A  1802    	JP	_10_L_36
000002FC                   A  1803    _10_L_34:
                           A  1804    ;  235			draw_char[3] = ASCII_SPACE;
                           A  1805    .line 235
000002FC ADA8 0012         A  1806    	CLR	_draw_char+12:RAM
                           A  1807    ;  236		}
                           A  1808    ;  237	}
00000300                   A  1809    _10_L_36:
                           A  1810    .line 237
00000300 0001              A  1811    	UNLINK	
00000302 FFFC              A  1812    	RET	
                           A  1813    
                           A  1814    
                           A  1815    ;**************************** _led_set_draw_chars ***************************
                           A  1816    ;Name                         Addr/Register   Size   Type
                           A  1817    ;_draw_char                          STATIC     16   variable
                           A  1818    ;_msg_pos                            STATIC      4   variable
                           A  1819    ;_led_msg                            STATIC      2   variable
                           A  1820    ;_msg_size                           STATIC      4   variable
ZiLOG ZNEO Macro Assembler Version 1.10 (07022203)                                               29-Mar-11     22:45:37     page:  36


PC     Object              I  Line    Source led.src
                           A  1821    
                           A  1822    
                           A  1823    ; Aggregate Stack Size: 0 (words)
                           A  1824    
                           A  1825    
                           A  1826    .endfunc "led_set_draw_chars",237,"_led_set_draw_chars"
                           A  1827    	XREF _memcpy:EROM
                           A  1828    	XREF _strlen:EROM
                           A  1829    	XREF __u_dtof:EROM
                           A  1830    	XREF __u_ustoa:EROM
                           A  1831    	XREF __u_stoa:EROM
                           A  1832    	XREF ___print_sputch:EROM
                           A  1833    	XREF ___print_out:RAM
                           A  1834    	XREF ___print_fmt:RAM
                           A  1835    	XREF _malloc:EROM
                           A  1836    	XREF _free:EROM
                           A  1837    	XREF _timer_interval_int:EROM
                           A  1838    	XDEF _led_display_int_hex
                           A  1839    	XDEF _led_display_int
                           A  1840    	XDEF _led_display_double
                           A  1841    	XDEF _led_display_text
                           A  1842    	XDEF _led_set_scroll_cutoff
                           A  1843    	XDEF _led_update
                           A  1844    	XDEF _init_leds
                           A  1845    	XDEF _char_data
                           A  1846    	END


Errors: 0
Warnings: 0
Lines Assembled: 1847
